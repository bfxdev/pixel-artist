
# :construction: Pixel Artist - ALPHA :construction:

Create Pixel Art from input pictures

## Introduction

The purpose of this Typescript node.js library is to transform pictures by adding a Pixel-Art touch.

The library has only one dependency on [Jimp](https://www.npmjs.com/package/jimp) (used to import/export picture files).

## Features

Different operations are available, which can be combined in a single rendering.

### Arbitrary palettes

All transformations use colors exclusively from an arbitrary palette. The palette can be defined as a list of colors and/or as RGB bit depths. Some **well-known predefined palettes** are available:

|Name|#Colors|![Reference picture](pics/rgb-reference.png)|
|--|--|--|
|CPC|27|![Example with CPC](pics/rgb-reference-CPC.png)|
|AAP64|64|![Example with AAP64](pics/rgb-reference-AAP64.png)|
|Apple2|15|![Example with Apple2](pics/rgb-reference-Apple2.png)|
|CGA|16|![Example with CGA](pics/rgb-reference-CGA.png)|
|C64|16|![Example with C64](pics/rgb-reference-C64.png)|
|Fantasy24|24|![Example with Fantasy24](pics/rgb-reference-Fantasy24.png)|
|Jewel15|15|![Example with Jewel15](pics/rgb-reference-Jewel15.png)|
|MSX|15|![Example with MSX](pics/rgb-reference-MSX.png)|
|NES|53|![Example with NES](pics/rgb-reference-NES.png)|
|RGB|16777216|![Example with RGB](pics/rgb-reference-RGB.png)|
|RGB332|256|![Example with RGB332](pics/rgb-reference-RGB332.png)|
|RGB444|4096|![Example with RGB444](pics/rgb-reference-RGB444.png)|
|RGB565|65536|![Example with RGB565](pics/rgb-reference-RGB565.png)|
|Spectrum|15|![Example with Spectrum](pics/rgb-reference-Spectrum.png)|
|Steam16|16|![Example with Steam16](pics/rgb-reference-Steam16.png)|
|Sweetie16|16|![Example with Sweetie16](pics/rgb-reference-Sweetie16.png)|
|Tandy|59|![Example with Tandy](pics/rgb-reference-Tandy.png)|
|Teletext|8|![Example with Teletext](pics/rgb-reference-Teletext.png)|
|VIC20|16|![Example with VIC20](pics/rgb-reference-VIC20.png)|


### Outline

An outline can be added around the non-transparent part of the image according to 2 variants.

The first variant creates a single-pixel outline, including diagonals:

The outline created by the second variant connects the pixels in diagonal:




In addition, the thickness of the outline can be set, e.g. 3 pixels on first variant:


### Edge


### Dithering


## API

The complete API of the library is available in [doc](doc/modules/_pixel_artist_.html). The main classes are:

- [`Color`](doc/classes/_pixel_artist_.color.html): RGBA color in sRGB space with CIELAB distance
- [`Palette`](doc/classes/_pixel_artist_.palette.html): Palette based on bit depth and/or list of colors
- [`PixelArtist`](doc/classes/_pixel_artist_.pixelartist.html): Picture transformation object


## Usage in node.js with Typescript

The library is distributed primarily as an CommonJS module in an `npm` package. First of all, install the module in your project:

`npm install pixel-art --save` to use the library as part of the project at run-time
  or
`npm install pixel-art --save-dev` to use it as development dependency

A typical Typescript usage looks like:

```typescript
import Jimp from 'jimp';
import {PixelArtist, palettes} from 'pixel-artist';

Jimp.read('source.png').then(image =>
{
  let pa = new PixelArtist(palettes["AAP64"]);
  pa.setOutline(1, "Black", false);
  pa.render(image).write('result.png');
});
```

## Usage in a web page

A webpack bundle is provided in [dist](dist) to used directly with a \<script\> tag:

```html
<!DOCTYPE html>
<html lang="en">
  <head><script src="dist/pixel-artist.bundle.js"></script></head>
  <body>
    <script>
Jimp.read("pics/duck.png").then(function (img)
{
  // Processes picture
  var pa = (new pixart.PixelArtist(pixart.palettes["AAP64"]));
  pa.setOutline(1, "Black", false);
  pa.setFinalFrame(2);
  let res = pa.render(img);

  // Adds processed picture to end of document
  res.getBase64(Jimp.AUTO, function (err, src)
  {
    var elem = document.createElement("img");
    elem.setAttribute("src", src);
    document.body.appendChild(elem);
  });
});
    </script>
  </body>
</html>
```

## Compilation

To build the library, start by cloning the repository:

`git clone https://github.com/bfxdev/pixel-artist.git`

Change to directory `pixel-artist` and then download the dependencies:

`npm install`

Then start the compilation:

`npm start`

Several targets defined in `package.json` can be chosen to build only a part of the library.

During the compilation, the following folder are used:

- `lib`: CommonJS modules
- `es6`: ES6 modules for packaging
- `dist`: Packaged modules
- `doc`: Documentation generated by `typedoc`


